"use strict";angular.module("anunciosAppApp",["ngAnimate"]);var app=angular.module("anunciosAppApp");app.controller("MainCtrl",["$http","$log",function(a,b){var c=this;c.ad={title:"",author:"",description:""},c.anuncios=[],c.eliminarAnuncio=function(a){c.anuncios.splice(a,1)},c.addAnuncio=function(){a({method:"POST",url:"http://localhost:8080/anuncios",headers:{"Content-Type":"application/json"},data:{nombre:c.ad.title,asunto:c.ad.author,comentario:c.ad.description}}).then(function(a){b.debug("Petición realizada con éxito"),b.debug(a.statusText),d()},function(a){b.debug("Ha fallado la petición"),b.debug(a.statusText)})};var d=function(){a({method:"GET",url:"http://localhost:8080/anuncios",headers:{"Content-Type":"application/json"}}).then(function(a){b.debug("Petición realizada con éxito"),c.anuncios=a.data;for(index in a.data){var d={title:a.data[index].nombre,author:a.data[index].asunto,description:a.data[index].comentario};c.anuncios.push(d)}},function(a){b.error("ha fallado la petición "+a.statusText)})};c.anuncios=d()}]),angular.module("anunciosAppApp").run(["$templateCache",function(a){a.put("views/main.html",'<div class="container"> <h2>Mis Anuncios</h2> <!-- Introducir Anuncio --> <form role="form" ng-submit="mc.addAnuncio()"> <div class="row"> <div class="col-sm-3"> <div class="input-group"> <input type="text" ng-model="mc.ad.title" placeholder="Titulo" class="form-control"> <input type="text" ng-model="mc.ad.author" placeholder="Autor" class="form-control"> <textarea rows="5" ng-model="mc.ad.description" placeholder="Descripción" class="form-control"></textarea> <input type="submit" class="btn btn-primary btn-block" value="Enviar"> </div> </div> </div> </form> <div class="row"> <div id="adbox" ng-repeat="anuncio in mc.anuncios"> <div class="col-sm-3"> <input type="text" ng-model="anuncio.title" class="form-control"> <input type="text" ng-model="anuncio.author" class="form-control"> <textarea rows="5" ng-model="anuncio.description" class="form-control"></textarea> <button class="btn btn-block btn-danger" ng-click="mc.eliminarAnuncio($index)" aria-label="Eliminar">Eliminar</button> </div> </div> </div> </div>')}]);